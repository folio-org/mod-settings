{
  "id": "${artifactId}-${version}",
  "name": "settings",
  "provides": [
    {
      "id": "_tenant",
      "version": "2.0",
      "interfaceType": "system",
      "handlers": [
        {
          "methods": [
            "POST"
          ],
          "pathPattern": "/_/tenant",
          "permissionsDesired": [
            "configuration.entries.collection.get",
            "configuration.entries.item.delete"
          ]
        },
        {
          "methods": [
            "GET",
            "DELETE"
          ],
          "pathPattern": "/_/tenant/{id}"
        }
      ]
    },
    {
      "id": "base-url",
      "version": "1.0",
      "handlers": [
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/base-url",
          "permissionsRequired": [
            "base-url.item.get"
          ]
        },
        {
          "methods": [
            "PUT"
          ],
          "pathPattern": "/base-url",
          "permissionsRequired": [
            "base-url.item.put"
          ]
        }
      ]
    },
    {
      "id": "locale",
      "version": "1.0",
      "handlers": [
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/locale",
          "permissionsRequired": [
            "locale.item.get"
          ]
        },
        {
          "methods": [
            "PUT"
          ],
          "pathPattern": "/locale",
          "permissionsRequired": [
            "locale.item.put"
          ]
        }
      ]
    },
    {
      "id": "tenant-addresses",
      "version": "1.0",
      "handlers": [
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/tenant-addresses",
          "permissionsRequired": [
            "tenant-addresses.collection.get"
          ]
        },
        {
          "methods": [
            "POST"
          ],
          "pathPattern": "/tenant-addresses",
          "permissionsRequired": [
            "tenant-addresses.item.post"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/tenant-addresses/{id}",
          "permissionsRequired": [
            "tenant-addresses.item.get"
          ]
        },
        {
          "methods": [
            "PUT"
          ],
          "pathPattern": "/tenant-addresses/{id}",
          "permissionsRequired": [
            "tenant-addresses.item.put"
          ]
        },
        {
          "methods": [
            "DELETE"
          ],
          "pathPattern": "/tenant-addresses/{id}",
          "permissionsRequired": [
            "tenant-addresses.item.delete"
          ]
        }
      ]
    },
    {
      "id": "settings",
      "version": "1.2",
      "handlers": [
        {
          "methods": [
            "POST"
          ],
          "pathPattern": "/settings/entries",
          "permissionsRequired": [
            "mod-settings.entries.item.post"
          ],
          "permissionsDesired": [
            "mod-settings.global.*",
            "mod-settings.users.*",
            "mod-settings.owner.*"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/settings/entries",
          "permissionsRequired": [
            "mod-settings.entries.collection.get"
          ],
          "permissionsDesired": [
            "mod-settings.global.*",
            "mod-settings.users.*",
            "mod-settings.owner.*"
          ]
        },
        {
          "methods": [
            "GET"
          ],
          "pathPattern": "/settings/entries/{id}",
          "permissionsRequired": [
            "mod-settings.entries.item.get"
          ],
          "permissionsDesired": [
            "mod-settings.global.*",
            "mod-settings.users.*",
            "mod-settings.owner.*"
          ]
        },
        {
          "methods": [
            "PUT"
          ],
          "pathPattern": "/settings/entries/{id}",
          "permissionsRequired": [
            "mod-settings.entries.item.put"
          ],
          "permissionsDesired": [
            "mod-settings.global.*",
            "mod-settings.users.*",
            "mod-settings.owner.*"
          ]
        },
        {
          "methods": [
            "DELETE"
          ],
          "pathPattern": "/settings/entries/{id}",
          "permissionsRequired": [
            "mod-settings.entries.item.delete"
          ],
          "permissionsDesired": [
            "mod-settings.global.*",
            "mod-settings.users.*",
            "mod-settings.owner.*"
          ]
        },
        {
          "methods": [
            "PUT"
          ],
          "pathPattern": "/settings/upload",
          "permissionsRequired": [
            "mod-settings.entries.put"
          ],
          "permissionsDesired": [
            "mod-settings.global.*",
            "mod-settings.users.*",
            "mod-settings.owner.*"
          ]
        }
      ]
    }
  ],
  "requires": [
    {
      "id": "authtoken",
      "version": "2.1"
    }
  ],
  "optional": [
    {
      "id": "configuration",
      "version": "2.0"
    }
  ],
  "permissionSets": [
    {
      "permissionName": "base-url.item.get",
      "displayName": "front-end user interface base url - get",
      "description": "Get front-end user interface base url"
    },
    {
      "permissionName": "base-url.item.put",
      "displayName": "front-end user interface base url - update",
      "description": "Update front-end user interface base url setting"
    },
    {
      "permissionName": "base-url.item.all",
      "displayName": "front-end user interface base-url - all permissions",
      "description": "All front-end user interface base-url permissions",
      "subPermissions": [
        "base-url.item.get",
        "base-url.item.put"
      ]
    },
    {
      "permissionName": "locale.item.get",
      "displayName": "locale - get setting",
      "description": "Get locale setting"
    },
    {
      "permissionName": "locale.item.put",
      "displayName": "locale - update setting",
      "description": "Update locale setting"
    },
    {
      "permissionName": "locale.item.all",
      "displayName": "locale - all permissions",
      "description": "All locale permissions",
      "subPermissions": [
        "locale.item.get",
        "locale.item.put"
      ]
    },
    {
      "permissionName": "tenant-addresses.collection.get",
      "displayName": "tenant addresses - get settings",
      "description": "Get tenant addresses"
    },
    {
      "permissionName": "tenant-addresses.item.get",
      "displayName": "tenant addresses - get setting",
      "description": "Get tenant address"
    },
    {
      "permissionName": "tenant-addresses.item.post",
      "displayName": "tenant addresses - create setting",
      "description": "Create tenant address"
    },
    {
      "permissionName": "tenant-addresses.item.put",
      "displayName": "tenant addresses - update setting",
      "description": "Update tenant address"
    },
    {
      "permissionName": "tenant-addresses.item.delete",
      "displayName": "tenant addresses - delete setting",
      "description": "Delete tenant address"
    },
    {
      "permissionName": "tenant-addresses.item.all",
      "displayName": "tenant addresses - all permissions",
      "description": "All tenant addresses permissions",
      "subPermissions": [
        "tenant-addresses.collection.get",
        "tenant-addresses.item.get",
        "tenant-addresses.item.post",
        "tenant-addresses.item.put",
        "tenant-addresses.item.delete"
      ]
    },
    {
      "permissionName": "mod-settings.entries.item.post",
      "displayName": "settings - create setting",
      "description": "Create setting"
    },
    {
      "permissionName": "mod-settings.entries.collection.get",
      "displayName": "settings - get settings",
      "description": "Get settings"
    },
    {
      "permissionName": "mod-settings.entries.item.get",
      "displayName": "settings - get setting",
      "description": "Get setting"
    },
    {
      "permissionName": "mod-settings.entries.item.put",
      "displayName": "settings - update setting",
      "description": "Update setting"
    },
    {
      "permissionName": "mod-settings.entries.item.delete",
      "displayName": "settings - delete setting",
      "description": "Delete setting"
    },
    {
      "permissionName": "mod-settings.entries.put",
      "displayName": "settings - upload",
      "description": "Upload settings",
      "replaces": [
        "mod-settings.entries.upload"
      ]
    },
    {
      "permissionName": "mod-settings.entries.all",
      "displayName": "settings - all setting permissions",
      "description": "All setting permissions",
      "subPermissions": [
        "mod-settings.entries.item.post",
        "mod-settings.entries.collection.get",
        "mod-settings.entries.item.get",
        "mod-settings.entries.item.put",
        "mod-settings.entries.item.delete",
        "mod-settings.entries.put"
      ]
    }
  ],
  "launchDescriptor": {
    "dockerImage": "${artifactId}:${version}",
    "dockerPull": false,
    "dockerArgs": {
      "HostConfig": {
        "Memory": 2147483648,
        "PortBindings": {
          "8081/tcp": [
            {
              "HostPort": "%p"
            }
          ]
        }
      }
    },
    "env": [
      {
        "name": "JAVA_OPTIONS",
        "value": "-XX:MaxRAMPercentage=66.0"
      },
      {
        "name": "DB_HOST",
        "value": "postgres"
      },
      {
        "name": "DB_PORT",
        "value": "5432"
      },
      {
        "name": "DB_USERNAME",
        "value": "folio_admin"
      },
      {
        "name": "DB_PASSWORD",
        "value": "folio_admin"
      },
      {
        "name": "DB_DATABASE",
        "value": "okapi_modules"
      },
      {
        "name": "DB_MAXPOOLSIZE",
        "value": "5"
      }
    ]
  }
}
